(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{25:function(e,a,t){},29:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7XQMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC"},30:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS/gDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM+wTENuQahAvEO9DMwiGdwAxOymGJQLxTyD+jgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg=="},31:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA/BOIv2PBIPFEUgxjB+IdQPwfC94HxLykus4GiD+hGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL+AuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII="},32:function(e,a,t){e.exports=t.p+"static/media/svg-2.a9720333.svg"},33:function(e,a,t){e.exports=t(54)},52:function(e,a,t){},53:function(e,a,t){},54:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(26),l=t.n(c),m=t(6),o=t(1),s=function(){return r.a.createElement("h1",{className:"title"},"Home page")},i=t(15),u=t(8),h=t(27),p=t.n(h),d=t(13),E=t(9),f=function(e){var a=e.people,t=e.onAdd,c=Object(o.g)(),l=a.filter((function(e){return"m"===e.sex})),m=a.filter((function(e){return"f"===e.sex})),s=Object(n.useState)({name:"",sex:"m",born:"",died:"",motherName:"",fatherName:""}),h=Object(u.a)(s,2),p=h[0],f=h[1],A=Object(n.useState)(""),g=Object(u.a)(A,2),b=g[0],N=g[1],v=Object(n.useState)(""),O=Object(u.a)(v,2),x=O[0],j=O[1],C=function(e){N(""),j("");var a=e.target,t=a.name,n=a.value;f((function(e){return"born"===t||"died"===t?Object(E.a)(Object(E.a)({},e),{},Object(d.a)({},t,+n)):Object(E.a)(Object(E.a)({},e),{},Object(d.a)({},t,n))}))};return r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var a=p.name.length,n=p.name.replace(/[^a-z\u0430-\u044f ]/gi,"").length,r=p.died-p.born;return n!==a||0===a?N("Invalid characters entered"):r>=150||r<0?j("Age should be >= 0 and < 150"):(t((function(e){return[p].concat(Object(i.a)(e))})),f({name:"",sex:"m",born:"",died:"",motherName:"",fatherName:""}),c.push("/people"))}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Please add info:"),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Name: "),r.a.createElement("input",{type:"text",name:"name",value:p.name,onChange:C}),r.a.createElement("span",{className:"error-message"},b)),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Sex: "),r.a.createElement("input",{type:"radio",value:"m",name:"sex",checked:"m"===p.sex,onChange:C}),"Male",r.a.createElement("input",{type:"radio",value:"f",name:"sex",checked:"f"===p.sex,onChange:C}),"Female"),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Born: "),r.a.createElement("input",{type:"number",name:"born",value:p.born,onChange:C,min:1400,max:2021})),r.a.createElement("div",{className:"error-message"},x),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Died: "),r.a.createElement("input",{type:"number",name:"died",value:p.died,onChange:C,min:1400,max:2021,disabled:!p.born})),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Mother: "),r.a.createElement("select",{name:"motherName",value:p.motherName,onChange:C,disabled:!p.born},r.a.createElement("option",{value:""},"Select mother(optional)"),m.map((function(e){var a=e.name,t=e.died,n=e.born;return p.born<=t&&p.born>=n+15&&r.a.createElement("option",{key:a,value:a},a)})))),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Father: "),r.a.createElement("select",{name:"fatherName",value:p.fatherName,onChange:C,disabled:!p.born},r.a.createElement("option",{value:""},"Select father(optional)"),l.map((function(e){var a=e.name,t=e.died,n=e.born;return p.born<=t&&p.born>=n+15&&r.a.createElement("option",{key:a,value:a},a)})))),r.a.createElement("button",{type:"submit",className:"form-button"},"Add person")))},A=t(4),g=t.n(A),b=function(e){var a=e.name,t=e.sex,n=e.born,c=e.died,l=e.motherName,s=e.fatherName,i=Object(o.h)().search,u="/people/".concat(a.replace(/ /g,"-"),"-").concat(n),h=new URLSearchParams(i).get("sortBy")||"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:g()({"highlight-column":"name"===h})},r.a.createElement(m.b,{to:{pathname:u,search:i},className:"name-link"},a)),r.a.createElement("td",{className:g()({"highlight-column":"sex"===h})},t),r.a.createElement("td",{className:g()({"highlight-column":"born"===h})},n),r.a.createElement("td",{className:g()({"highlight-column":"died"===h})},c),r.a.createElement("td",{className:g()({"highlight-column":"mother"===h})},l||"no data"),r.a.createElement("td",{className:g()({"highlight-column":"father"===h})},s||"no data"))};b.defaultProps={motherName:"",fatherName:""};var N=t(29),v=t.n(N),O=t(30),x=t.n(O),j=t(31),C=t.n(j),y=(t(25),["name","sex","born","died","mother","father"]),B=function(e){var a,t=e.people,c=Object(o.i)().params.id;c&&(a=c.slice(0,-5).replace(/-/g," "));var l=Object(o.g)(),m=Object(o.h)().search,s=new URLSearchParams(m),i=s.get("sortBy")||"",h=s.get("sortOrder")||"",p=Object(n.useState)(!0),d=Object(u.a)(p,2),E=d[0],f=d[1],A=function(e){var a=e.target.name;s.get("sortBy")!==a&&(s.set("sortBy",a),l.push({search:s.toString()})),N(a)},N=function(e){f(e===i&&function(e){return!e}),!0===E?s.set("sortOrder","asc"):s.set("sortOrder","desc"),l.push({search:s.toString()})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,y.map((function(e){return r.a.createElement("th",{key:"".concat(e,"_head")},r.a.createElement("button",{type:"button",className:"button",name:e,onClick:A},e[0].toUpperCase()+e.slice(1)),r.a.createElement("img",{src:"asc"===h&&i===e?x.a:"desc"===h&&i===e?C.a:v.a,alt:"sort-png"}))})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.name,className:g()({"highlight-person":e.name===a})},r.a.createElement(b,e))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,y.map((function(e){return r.a.createElement("th",{key:"".concat(e,"_foot")},e[0].toUpperCase()+e.slice(1))})))))))},S=function(e){var a=e.people,t=e.id.slice(0,-5).replace(/-/g," "),n=a.find((function(e){return e.name===t}));return n?r.a.createElement("div",{className:"person-name"},r.a.createElement("div",{className:g()({"red-woman":"f"===n.sex,"blue-man":"m"===n.sex})},"Name: ".concat(n.name)),r.a.createElement("div",{className:g()({"red-woman":n.motherName})},"Mother: ".concat(n.motherName||"no data")),r.a.createElement("div",{className:g()({"blue-man":n.fatherName})},"Father: ".concat(n.fatherName||"no data"))):""},w=(t(52),function(){var e=Object(o.g)(),a=Object(o.i)().params.id,t=Object(o.h)(),c=t.search,l=t.pathname,s=new URLSearchParams(c),h=s.get("sortBy")||"",d=s.get("sortOrder")||"",A=s.get("query")||"",g=Object(n.useState)(A),b=Object(u.a)(g,2),N=b[0],v=b[1],O=Object(n.useCallback)(p()((function(a){a?s.set("query",a):s.delete("query"),e.push({search:s.toString()})}),500),[]),x=Object(n.useState)([]),j=Object(u.a)(x,2),C=j[0],y=j[1];Object(n.useEffect)((function(){fetch("".concat("https://mate-academy.github.io/react_people-table/api","/people.json")).then((function(e){return e.json()})).then((function(e){return e.map((function(a){return Object(E.a)(Object(E.a)({},a),{},{mother:e.find((function(e){return e.name===a.motherName})),father:e.find((function(e){return e.name===a.fatherName}))})}))})).then(y)}),[]);var w=Object(i.a)(C);if(A){var P=A.toLowerCase();w=w.filter((function(e){return(e.name+e.fatherName+e.motherName).toLowerCase().includes(P)}))}switch(h){case"name":case"sex":w.sort((function(e,a){return e[h].localeCompare(a[h])}));break;case"born":case"died":w.sort((function(e,a){return e[h]-a[h]}));break;case"mother":w.sort((function(e,a){return(e.motherName||"zzz").localeCompare(a.motherName||"zzz")}));break;case"father":w.sort((function(e,a){return(e.fatherName||"zzz").localeCompare(a.fatherName||"zzz")}))}return"desc"===d&&w.reverse(),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"People page"),r.a.createElement("input",{value:N,onChange:function(e){v(e.target.value),O(e.target.value)},type:"text",placeholder:"Search...",className:"input"}),a&&r.a.createElement(S,{people:C,id:a}),"new"!==l.slice(-3)?r.a.createElement(m.b,{to:"/people/new"},r.a.createElement("button",{type:"button",className:"add-button"},"Add person")):r.a.createElement(f,{people:C,onAdd:y}),0!==C.length&&r.a.createElement(B,{people:w,sortParam:h}))}),P=function(){return r.a.createElement("h1",{className:"title"},"Page not found")},Q=(t(53),t(32)),_=t.n(Q),k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header header--theme_light header--size_l"},r.a.createElement(m.b,{to:"/"},r.a.createElement("img",{src:_.a,alt:"logo"})),r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"nav__list"},r.a.createElement(m.c,{to:"/",exact:!0,className:"nav__item",activeClassName:"is-active"},"Home"),r.a.createElement(m.c,{to:"/people",className:"nav__item",activeClassName:"is-active"},"People")))),r.a.createElement("section",null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:s}),r.a.createElement(o.b,{path:"/people/:id?",exact:!0,component:w}),r.a.createElement(o.a,{path:"/home",to:"/"}),r.a.createElement(P,null))))};l.a.render(r.a.createElement(m.a,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.90351b11.chunk.js.map