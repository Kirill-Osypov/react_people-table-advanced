{"version":3,"sources":["images/sort_both.png","images/sort_asc.png","images/sort_desc.png","images/svg-2.svg","components/HomePage/HomePage.js","components/PeoplePage/NewPerson.js","components/PeopleTable/PersonRow.js","components/PeopleTable/PeopleTable.js","components/PeopleTable/PersonName.js","components/PeoplePage/PeoplePage.js","api/api.js","components/NotFoundPage/NotFoundPage.js","App.jsx","index.jsx"],"names":["module","exports","HomePage","className","NewPerson","people","onAdd","history","useHistory","mens","filter","human","sex","womans","useState","name","born","died","motherName","fatherName","newPerson","setNewPerson","errorName","setErrorName","errorAge","setErrorAge","handleChange","event","target","value","current","onSubmit","preventDefault","nameLength","length","checkLength","replace","age","push","type","onChange","checked","min","max","disabled","map","key","PersonRow","search","useLocation","path","sortParam","URLSearchParams","get","classNames","to","pathname","defaultProps","heads","PeopleTable","newId","id","useRouteMatch","params","slice","searchParams","sortOrder","isRev","setRev","sortBy","set","toString","toggleSort","head","onClick","toUpperCase","src","sortAsc","sortDesc","sortBoth","alt","person","PersonName","find","PeoplePage","appliedQuery","query","setQuery","applyQuery","useCallback","debounce","newQuery","delete","setPeople","useEffect","fetch","then","response","json","mother","father","visiblePeople","lowerQuery","toLowerCase","includes","sort","a","b","localeCompare","reverse","placeholder","NotFoundPage","App","logo","exact","activeClassName","component","ReactDOM","render","document","getElementById"],"mappings":"qIAAAA,EAAOC,QAAU,sS,iBCAjBD,EAAOC,QAAU,kP,iBCAjBD,EAAOC,QAAU,8O,mBCAjBD,EAAOC,QAAU,IAA0B,mC,wKCE9BC,EAAW,kBACtB,wBAAIC,UAAU,SAAd,c,+CCCWC,EAAY,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,MAC5BC,EAAUC,cAEVC,EAAOJ,EAAOK,QAAO,SAAAC,GAAK,MAAkB,MAAdA,EAAMC,OACpCC,EAASR,EAAOK,QAAO,SAAAC,GAAK,MAAkB,MAAdA,EAAMC,OAE5C,EAAkCE,mBAAS,CACzCC,KAAM,GACNH,IAAK,IACLI,KAAM,GACNC,KAAM,GACNC,WAAY,GACZC,WAAY,KANd,mBAAOC,EAAP,KAAkBC,EAAlB,KAQA,EAAkCP,mBAAS,IAA3C,mBAAOQ,EAAP,KAAkBC,EAAlB,KACA,EAAgCT,mBAAS,IAAzC,mBAAOU,EAAP,KAAiBC,EAAjB,KAEMC,EAAe,SAACC,GACpBJ,EAAa,IACbE,EAAY,IAEZ,MAAwBE,EAAMC,OAAtBb,EAAR,EAAQA,KAAMc,EAAd,EAAcA,MAEdR,GAAa,SAACS,GACZ,MAAa,SAATf,GAA4B,SAATA,EACd,2BACFe,GADL,kBAEGf,GAAQc,IAIN,2BACFC,GADL,kBAEGf,EAAOc,QAiCd,OACE,0BAAM1B,UAAU,OAAO4B,SA7BJ,SAACJ,GACpBA,EAAMK,iBAEN,IAAMC,EAAab,EAAUL,KAAKmB,OAC5BC,EAAcf,EAAUL,KAAKqB,QAAQ,yBAAgB,IAAIF,OACzDG,EAAMjB,EAAUH,KAAOG,EAAUJ,KAEvC,OAAImB,IAAgBF,GAA6B,IAAfA,EACzBV,EAAa,8BAGlBc,GAAO,KAAOA,EAAM,EACfZ,EAAY,iCAGrBnB,GAAM,SAAAwB,GAAO,OAAKV,GAAL,mBAAmBU,OAChCT,EAAa,CACXN,KAAM,GACNH,IAAK,IACLI,KAAM,GACNC,KAAM,GACNC,WAAY,GACZC,WAAY,KAGPZ,EAAQ+B,KAAK,cAKlB,kCACE,oDACA,yBAAKnC,UAAU,eACb,8BAAO,UACP,2BACEoC,KAAK,OACLxB,KAAK,OACLc,MAAOT,EAAUL,KACjByB,SAAUd,IAEZ,0BAAMvB,UAAU,iBAAiBmB,IAGnC,yBAAKnB,UAAU,eACb,8BAAO,SACP,2BACEoC,KAAK,QACLV,MAAM,IACNd,KAAK,MACL0B,QAA2B,MAAlBrB,EAAUR,IACnB4B,SAAUd,IAPd,OAUE,2BACEa,KAAK,QACLV,MAAM,IACNd,KAAK,MACL0B,QAA2B,MAAlBrB,EAAUR,IACnB4B,SAAUd,IAfd,UAoBA,yBAAKvB,UAAU,eACb,8BAAO,UACP,2BACEoC,KAAK,SACLxB,KAAK,OACLc,MAAOT,EAAUJ,KACjBwB,SAAUd,EACVgB,IAAK,KACLC,IAAK,QAIT,yBAAKxC,UAAU,iBAAiBqB,GAEhC,yBAAKrB,UAAU,eACb,8BAAO,UACP,2BACEoC,KAAK,SACLxB,KAAK,OACLc,MAAOT,EAAUH,KACjBuB,SAAUd,EACVgB,IAAK,KACLC,IAAK,KACLC,UAAWxB,EAAUJ,QAIzB,yBAAKb,UAAU,eACb,8BAAO,YACP,4BACEY,KAAK,aACLc,MAAOT,EAAUF,WACjBsB,SAAUd,EACVkB,UAAWxB,EAAUJ,MAErB,4BAAQa,MAAM,IAAd,2BACChB,EAAOgC,KAAI,gBAAG9B,EAAH,EAAGA,KAAME,EAAT,EAASA,KAAMD,EAAf,EAAeA,KAAf,OACTI,EAAUJ,MAAQC,GAAQG,EAAUJ,MAAQA,EAAO,IAClD,4BAAQ8B,IAAK/B,EAAMc,MAAOd,GAAOA,QAMzC,yBAAKZ,UAAU,eACb,8BAAO,YACP,4BACEY,KAAK,aACLc,MAAOT,EAAUD,WACjBqB,SAAUd,EACVkB,UAAWxB,EAAUJ,MAErB,4BAAQa,MAAM,IAAd,2BACCpB,EAAKoC,KAAI,gBAAG9B,EAAH,EAAGA,KAAME,EAAT,EAASA,KAAMD,EAAf,EAAeA,KAAf,OACPI,EAAUJ,MAAQC,GAAQG,EAAUJ,MAAQA,EAAO,IAClD,4BAAQ8B,IAAK/B,EAAMc,MAAOd,GAAOA,QAMzC,4BACEwB,KAAK,SACLpC,UAAU,eAFZ,iB,gBCjKK4C,EAAY,SAAC,GAOnB,IANLhC,EAMI,EANJA,KACAH,EAKI,EALJA,IACAI,EAII,EAJJA,KACAC,EAGI,EAHJA,KACAC,EAEI,EAFJA,WACAC,EACI,EADJA,WAEQ6B,EAAWC,cAAXD,OACFE,EAAI,kBAAcnC,EAAKqB,QAAQ,KAAM,KAAjC,YAAyCpB,GAE7CmC,EADe,IAAIC,gBAAgBJ,GACVK,IAAI,WAAa,GAEhD,OACE,oCACE,wBACElD,UAAWmD,IAAW,CAAE,mBAAkC,SAAdH,KAE5C,kBAAC,IAAD,CACEI,GAAI,CACFC,SAAUN,EACVF,UAEF7C,UAAU,aAETY,IAIL,wBACEZ,UAAWmD,IAAW,CAAE,mBAAkC,QAAdH,KAE3CvC,GAEH,wBACET,UAAWmD,IAAW,CAAE,mBAAkC,SAAdH,KAE3CnC,GAEH,wBACEb,UAAWmD,IAAW,CAAE,mBAAkC,SAAdH,KAE3ClC,GAEH,wBACEd,UAAWmD,IAAW,CAAE,mBAAkC,WAAdH,KAE3CjC,GAAc,WAEjB,wBACEf,UAAWmD,IAAW,CAAE,mBAAkC,WAAdH,KAE3ChC,GAAc,aAevB4B,EAAUU,aAAe,CACvBvC,WAAY,GACZC,WAAY,I,uDC7DRuC,G,MAAQ,CAAC,OAAQ,MAAO,OAAQ,OAAQ,SAAU,WAE3CC,EAAc,SAAC,GAAgB,IAGtCC,EAHwBvD,EAAa,EAAbA,OAEpBwD,EADMC,cACOC,OAAbF,GAGJA,IACFD,EAAQC,EAAGG,MAAM,GAAI,GAAG5B,QAAQ,KAAM,MAGxC,IAAM7B,EAAUC,cACRwC,EAAWC,cAAXD,OACFiB,EAAe,IAAIb,gBAAgBJ,GAEnCG,EAAYc,EAAaZ,IAAI,WAAa,GAC1Ca,EAAYD,EAAaZ,IAAI,cAAgB,GAEnD,EAAwBvC,oBAAS,GAAjC,mBAAOqD,EAAP,KAAcC,EAAd,KAEMC,EAAS,SAAC1C,GACd,IAAQZ,EAASY,EAAMC,OAAfb,KAEJkD,EAAaZ,IAAI,YAActC,IACjCkD,EAAaK,IAAI,SAAUvD,GAC3BR,EAAQ+B,KAAK,CAAEU,OAAQiB,EAAaM,cAGtCC,EAAWzD,IAGPyD,EAAa,SAACzD,GAEhBqD,EADErD,IAASoC,GACJ,SAAArB,GAAO,OAAKA,KAKP,IAAVqC,EACFF,EAAaK,IAAI,YAAa,OAE9BL,EAAaK,IAAI,YAAa,QAGhC/D,EAAQ+B,KAAK,CAAEU,OAAQiB,EAAaM,cAGtC,OACE,oCACE,yBAAKpE,UAAU,aACb,+BACE,+BACE,4BACGuD,EAAMb,KAAI,SAAA4B,GAAI,OACb,wBAAI3B,IAAG,UAAK2B,EAAL,UACL,4BACElC,KAAK,SACLpC,UAAU,SACVY,KAAM0D,EACNC,QAASL,GAERI,EAAK,GAAGE,cAAgBF,EAAKT,MAAM,IAEtC,yBACEY,IACiB,QAAdV,GAAuBf,IAAcsB,EAClCI,IACe,SAAdX,GAAwBf,IAAcsB,EACrCK,IACAC,IAERC,IAAI,mBAMd,+BACG3E,EAAOwC,KAAI,SAAAoC,GAAM,OAChB,wBACEnC,IAAKmC,EAAOlE,KACZZ,UAAWmD,IAAW,CACpB,mBAAoB2B,EAAOlE,OAAS6C,KAGtC,kBAAC,EAAcqB,QAIrB,+BACE,4BACGvB,EAAMb,KAAI,SAAA4B,GAAI,OACb,wBAAI3B,IAAG,UAAK2B,EAAL,UACJA,EAAK,GAAGE,cAAgBF,EAAKT,MAAM,aCpGzCkB,EAAa,SAAC,GAAoB,IAAlB7E,EAAiB,EAAjBA,OACrBuD,EADsC,EAATC,GAClBG,MAAM,GAAI,GAAG5B,QAAQ,KAAM,KAEtCzB,EAAQN,EAAO8E,MAAK,SAAAF,GAAM,OAC9BA,EAAOlE,OAAS6C,KAGlB,OAAIjD,EAEA,yBAAKR,UAAU,eACb,yBACEA,UAAWmD,IAAW,CACpB,YAA2B,MAAd3C,EAAMC,IACnB,WAA0B,MAAdD,EAAMC,OAHtB,gBAMYD,EAAMI,OAElB,yBACEZ,UAAWmD,IAAW,CAAE,YAAa3C,EAAMO,cAD7C,kBAGcP,EAAMO,YAAc,YAElC,yBACEf,UAAWmD,IAAW,CAAE,WAAY3C,EAAMQ,cAD5C,kBAGcR,EAAMQ,YAAc,aAMjC,IC5BIiE,G,MAAa,WACxB,IAAM7E,EAAUC,cAERqD,EADMC,cACOC,OAAbF,GACR,EAA6BZ,cAArBD,EAAR,EAAQA,OAAQQ,EAAhB,EAAgBA,SACVS,EAAe,IAAIb,gBAAgBJ,GACnCG,EAAYc,EAAaZ,IAAI,WAAa,GAC1Cc,EAAQF,EAAaZ,IAAI,cAAgB,GAEzCgC,EAAepB,EAAaZ,IAAI,UAAY,GAClD,EAA0BvC,mBAASuE,GAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEMC,EAAaC,sBACjBC,KAAS,SAACC,GACJA,EACF1B,EAAaK,IAAI,QAASqB,GAE1B1B,EAAa2B,OAAO,SAGtBrF,EAAQ+B,KAAK,CAAEU,OAAQiB,EAAaM,eACnC,KACH,IAGF,EAA4BzD,mBAAS,IAArC,mBAAOT,EAAP,KAAewF,EAAf,KAEAC,qBAAU,WCnCmBC,MAAM,GAAD,OAFpB,wDAEoB,iBACjCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAA3F,GAAM,OAAIA,EAAOwC,KAAI,SAAAlC,GAAK,kCAC3BA,GAD2B,IAE9BwF,OAAQ9F,EAAO8E,MAAK,SAAAF,GAAM,OAAIA,EAAOlE,OAASJ,EAAMO,cACpDkF,OAAQ/F,EAAO8E,MAAK,SAAAF,GAAM,OAAIA,EAAOlE,OAASJ,EAAMQ,sBDgCjD6E,KAAKH,KACP,IAEH,IAKIQ,EAAa,YAAOhG,GAExB,GAAIgF,EAAc,CAChB,IAAMiB,EAAajB,EAAakB,cAEhCF,EAAgBA,EAAc3F,QAAO,qBAAGK,KAAH,EAASI,WAAT,EAAqBD,YACvBqF,cAAcC,SAASF,MAG5D,OAAQnD,GACN,IAAK,OACL,IAAK,MACHkD,EAAcI,MAAK,SAACC,EAAGC,GAAJ,OACjBD,EAAEvD,GAAWyD,cAAcD,EAAExD,OAE/B,MAEF,IAAK,OACL,IAAK,OACHkD,EAAcI,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEvD,GAAawD,EAAExD,MAC9C,MAEF,IAAK,SACHkD,EAAcI,MAAK,SAACC,EAAGC,GAAJ,OAChBD,EAAExF,YAAc,OAAO0F,cAAeD,EAAEzF,YAAc,UAEzD,MAEF,IAAK,SACHmF,EAAcI,MAAK,SAACC,EAAGC,GAAJ,OAChBD,EAAEvF,YAAc,OAAOyF,cAAeD,EAAExF,YAAc,UAY7D,MAJc,SAAVgD,GACFkC,EAAcQ,UAId,oCACE,wBAAI1G,UAAU,SAAd,eACA,2BACE0B,MAAOyD,EACP9C,SApDoB,SAACb,GACzB4D,EAAS5D,EAAMC,OAAOC,OACtB2D,EAAW7D,EAAMC,OAAOC,QAmDpBU,KAAK,OACLuE,YAAY,YACZ3G,UAAU,UAEV0D,GAAQ,kBAAC,EAAD,CAAYxD,OAAQA,EAAQwD,GAAIA,IACjB,QAAvBL,EAASQ,OAAO,GAChB,kBAAC,IAAD,CACET,GAAG,eAEH,4BACEhB,KAAK,SACLpC,UAAU,cAFZ,eAOC,kBAAC,EAAD,CAAWE,OAAQA,EAAQC,MAAOuF,IACnB,IAAlBxF,EAAO6B,QACT,kBAAC,EAAD,CACE7B,OAAQgG,EACRlD,UAAWA,OEjHN4D,EAAe,kBAC1B,wBAAI5G,UAAU,SAAd,mB,yBCMW6G,EAAM,kBACjB,yBAAK7G,UAAU,OACb,4BAAQA,UAAU,6CAChB,kBAAC,IAAD,CAAMoD,GAAG,KACP,yBAAKqB,IAAKqC,IAAMjC,IAAI,UAEtB,yBAAK7E,UAAU,OACb,yBAAKA,UAAU,aACb,kBAAC,IAAD,CACEoD,GAAG,IACH2D,OAAK,EACL/G,UAAU,YACVgH,gBAAgB,aAJlB,QAQA,kBAAC,IAAD,CACE5D,GAAG,UACHpD,UAAU,YACVgH,gBAAgB,aAHlB,aAUN,iCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOjE,KAAK,IAAIgE,OAAK,EAACE,UAAWlH,IACjC,kBAAC,IAAD,CAAOgD,KAAK,eAAegE,OAAK,EAACE,UAAWhC,IAC5C,kBAAC,IAAD,CAAUlC,KAAK,QAAQK,GAAG,MAC1B,kBAAC,EAAD,UClCR8D,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.90351b11.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7XQMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS/gDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM+wTENuQahAvEO9DMwiGdwAxOymGJQLxTyD+jgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA/BOIv2PBIPFEUgxjB+IdQPwfC94HxLykus4GiD+hGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL+AuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/svg-2.a9720333.svg\";","import React from 'react';\n\nexport const HomePage = () => (\n  <h1 className=\"title\">Home page</h1>\n);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\n\nexport const NewPerson = ({ people, onAdd }) => {\n  const history = useHistory();\n\n  const mens = people.filter(human => human.sex === 'm');\n  const womans = people.filter(human => human.sex === 'f');\n\n  const [newPerson, setNewPerson] = useState({\n    name: '',\n    sex: 'm',\n    born: '',\n    died: '',\n    motherName: '',\n    fatherName: '',\n  });\n  const [errorName, setErrorName] = useState('');\n  const [errorAge, setErrorAge] = useState('');\n\n  const handleChange = (event) => {\n    setErrorName('');\n    setErrorAge('');\n\n    const { name, value } = event.target;\n\n    setNewPerson((current) => {\n      if (name === 'born' || name === 'died') {\n        return {\n          ...current,\n          [name]: +value,\n        };\n      }\n\n      return {\n        ...current,\n        [name]: value,\n      };\n    });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const nameLength = newPerson.name.length;\n    const checkLength = newPerson.name.replace(/[^a-zа-я ]/gi, '').length;\n    const age = newPerson.died - newPerson.born;\n\n    if (checkLength !== nameLength || nameLength === 0) {\n      return setErrorName('Invalid characters entered');\n    }\n\n    if (age >= 150 || age < 0) {\n      return setErrorAge('Age should be >= 0 and < 150');\n    }\n\n    onAdd(current => [newPerson, ...current]);\n    setNewPerson({\n      name: '',\n      sex: 'm',\n      born: '',\n      died: '',\n      motherName: '',\n      fatherName: '',\n    });\n\n    return history.push('/people');\n  };\n\n  return (\n    <form className=\"form\" onSubmit={handleSubmit}>\n      <fieldset>\n        <legend>Please add info:</legend>\n        <div className=\"form__input\">\n          <span>{'Name: '}</span>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={newPerson.name}\n            onChange={handleChange}\n          />\n          <span className=\"error-message\">{errorName}</span>\n        </div>\n\n        <div className=\"form__input\">\n          <span>{'Sex: '}</span>\n          <input\n            type=\"radio\"\n            value=\"m\"\n            name=\"sex\"\n            checked={newPerson.sex === 'm'}\n            onChange={handleChange}\n          />\n          Male\n          <input\n            type=\"radio\"\n            value=\"f\"\n            name=\"sex\"\n            checked={newPerson.sex === 'f'}\n            onChange={handleChange}\n          />\n          Female\n        </div>\n\n        <div className=\"form__input\">\n          <span>{'Born: '}</span>\n          <input\n            type=\"number\"\n            name=\"born\"\n            value={newPerson.born}\n            onChange={handleChange}\n            min={1400}\n            max={2021}\n          />\n        </div>\n\n        <div className=\"error-message\">{errorAge}</div>\n\n        <div className=\"form__input\">\n          <span>{'Died: '}</span>\n          <input\n            type=\"number\"\n            name=\"died\"\n            value={newPerson.died}\n            onChange={handleChange}\n            min={1400}\n            max={2021}\n            disabled={!newPerson.born}\n          />\n        </div>\n\n        <div className=\"form__input\">\n          <span>{'Mother: '}</span>\n          <select\n            name=\"motherName\"\n            value={newPerson.motherName}\n            onChange={handleChange}\n            disabled={!newPerson.born}\n          >\n            <option value=\"\">Select mother(optional)</option>\n            {womans.map(({ name, died, born }) => (\n              (newPerson.born <= died && newPerson.born >= born + 15) && (\n                <option key={name} value={name}>{name}</option>\n              )\n            ))}\n          </select>\n        </div>\n\n        <div className=\"form__input\">\n          <span>{'Father: '}</span>\n          <select\n            name=\"fatherName\"\n            value={newPerson.fatherName}\n            onChange={handleChange}\n            disabled={!newPerson.born}\n          >\n            <option value=\"\">Select father(optional)</option>\n            {mens.map(({ name, died, born }) => (\n              (newPerson.born <= died && newPerson.born >= born + 15) && (\n                <option key={name} value={name}>{name}</option>\n              )\n            ))}\n          </select>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"form-button\"\n        >\n          Add person\n        </button>\n      </fieldset>\n    </form>\n  );\n};\n\nNewPerson.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onAdd: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport classNames from 'classnames';\n\nexport const PersonRow = ({\n  name,\n  sex,\n  born,\n  died,\n  motherName,\n  fatherName,\n}) => {\n  const { search } = useLocation();\n  const path = `/people/${name.replace(/ /g, '-')}-${born}`;\n  const searchParams = new URLSearchParams(search);\n  const sortParam = searchParams.get('sortBy') || '';\n\n  return (\n    <>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'name' })}\n      >\n        <Link\n          to={{\n            pathname: path,\n            search,\n          }}\n          className=\"name-link\"\n        >\n          {name}\n        </Link>\n\n      </td>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'sex' })}\n      >\n        {sex}\n      </td>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'born' })}\n      >\n        {born}\n      </td>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'died' })}\n      >\n        {died}\n      </td>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'mother' })}\n      >\n        {motherName || 'no data'}\n      </td>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'father' })}\n      >\n        {fatherName || 'no data'}\n      </td>\n    </>\n  );\n};\n\nPersonRow.propTypes = {\n  name: PropTypes.string.isRequired,\n  sex: PropTypes.string.isRequired,\n  born: PropTypes.number.isRequired,\n  died: PropTypes.number.isRequired,\n  motherName: PropTypes.string,\n  fatherName: PropTypes.string,\n};\n\nPersonRow.defaultProps = {\n  motherName: '',\n  fatherName: '',\n};\n","/* eslint-disable no-nested-ternary */\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation, useRouteMatch } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { PersonRow } from './PersonRow';\n\nimport sortBoth from '../../images/sort_both.png';\nimport sortAsc from '../../images/sort_asc.png';\nimport sortDesc from '../../images/sort_desc.png';\n\nimport './PeopleTable.scss';\n\nconst heads = ['name', 'sex', 'born', 'died', 'mother', 'father'];\n\nexport const PeopleTable = ({ people }) => {\n  const match = useRouteMatch();\n  const { id } = match.params;\n  let newId;\n\n  if (id) {\n    newId = id.slice(0, -5).replace(/-/g, ' ');\n  }\n\n  const history = useHistory();\n  const { search } = useLocation();\n  const searchParams = new URLSearchParams(search);\n\n  const sortParam = searchParams.get('sortBy') || '';\n  const sortOrder = searchParams.get('sortOrder') || '';\n\n  const [isRev, setRev] = useState(true);\n\n  const sortBy = (event) => {\n    const { name } = event.target;\n\n    if (searchParams.get('sortBy') !== name) {\n      searchParams.set('sortBy', name);\n      history.push({ search: searchParams.toString() });\n    }\n\n    toggleSort(name);\n  };\n\n  const toggleSort = (name) => {\n    if (name === sortParam) {\n      setRev(current => !current);\n    } else {\n      setRev(false);\n    }\n\n    if (isRev === true) {\n      searchParams.set('sortOrder', 'asc');\n    } else {\n      searchParams.set('sortOrder', 'desc');\n    }\n\n    history.push({ search: searchParams.toString() });\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        <table>\n          <thead>\n            <tr>\n              {heads.map(head => (\n                <th key={`${head}_head`}>\n                  <button\n                    type=\"button\"\n                    className=\"button\"\n                    name={head}\n                    onClick={sortBy}\n                  >\n                    {head[0].toUpperCase() + head.slice(1)}\n                  </button>\n                  <img\n                    src={\n                      (sortOrder === 'asc' && sortParam === head)\n                        ? sortAsc\n                        : (sortOrder === 'desc' && sortParam === head)\n                          ? sortDesc\n                          : sortBoth\n                      }\n                    alt=\"sort-png\"\n                  />\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {people.map(person => (\n              <tr\n                key={person.name}\n                className={classNames({\n                  'highlight-person': person.name === newId,\n                })}\n              >\n                <PersonRow {...person} />\n              </tr>\n            ))}\n          </tbody>\n          <tfoot>\n            <tr>\n              {heads.map(head => (\n                <th key={`${head}_foot`}>\n                  {head[0].toUpperCase() + head.slice(1)}\n                </th>\n              ))}\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n    </>\n  );\n};\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport './PeopleTable.scss';\n\nexport const PersonName = ({ people, id }) => {\n  const newId = id.slice(0, -5).replace(/-/g, ' ');\n\n  const human = people.find(person => (\n    person.name === newId\n  ));\n\n  if (human) {\n    return (\n      <div className=\"person-name\">\n        <div\n          className={classNames({\n            'red-woman': human.sex === 'f',\n            'blue-man': human.sex === 'm',\n          })}\n        >\n          {`Name: ${human.name}`}\n        </div>\n        <div\n          className={classNames({ 'red-woman': human.motherName })}\n        >\n          {`Mother: ${human.motherName || 'no data'}`}\n        </div>\n        <div\n          className={classNames({ 'blue-man': human.fatherName })}\n        >\n          {`Father: ${human.fatherName || 'no data'}`}\n        </div>\n      </div>\n    );\n  }\n\n  return '';\n};\n\nPersonName.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n  id: PropTypes.string.isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { Link, useHistory, useLocation, useRouteMatch } from 'react-router-dom';\nimport debounce from 'lodash/debounce';\nimport { NewPerson } from './NewPerson';\nimport { getPeople } from '../../api/api';\nimport { PeopleTable } from '../PeopleTable';\nimport { PersonName } from '../PeopleTable/PersonName';\n\nimport './PeoplePage.scss';\n\nexport const PeoplePage = () => {\n  const history = useHistory();\n  const match = useRouteMatch();\n  const { id } = match.params;\n  const { search, pathname } = useLocation();\n  const searchParams = new URLSearchParams(search);\n  const sortParam = searchParams.get('sortBy') || '';\n  const isRev = searchParams.get('sortOrder') || '';\n\n  const appliedQuery = searchParams.get('query') || '';\n  const [query, setQuery] = useState(appliedQuery);\n\n  const applyQuery = useCallback(\n    debounce((newQuery) => {\n      if (newQuery) {\n        searchParams.set('query', newQuery);\n      } else {\n        searchParams.delete('query');\n      }\n\n      history.push({ search: searchParams.toString() });\n    }, 500),\n    [],\n  );\n\n  const [people, setPeople] = useState([]);\n\n  useEffect(() => {\n    getPeople()\n      .then(setPeople);\n  }, []);\n\n  const handleQueryChange = (event) => {\n    setQuery(event.target.value);\n    applyQuery(event.target.value);\n  };\n\n  let visiblePeople = [...people];\n\n  if (appliedQuery) {\n    const lowerQuery = appliedQuery.toLowerCase();\n\n    visiblePeople = visiblePeople.filter(({ name, fatherName, motherName }) => (\n      (name + fatherName + motherName).toLowerCase().includes(lowerQuery)));\n  }\n\n  switch (sortParam) {\n    case 'name':\n    case 'sex':\n      visiblePeople.sort((a, b) => (\n        a[sortParam].localeCompare(b[sortParam])\n      ));\n      break;\n\n    case 'born':\n    case 'died':\n      visiblePeople.sort((a, b) => a[sortParam] - b[sortParam]);\n      break;\n\n    case 'mother':\n      visiblePeople.sort((a, b) => (\n        (a.motherName || 'zzz').localeCompare((b.motherName || 'zzz'))\n      ));\n      break;\n\n    case 'father':\n      visiblePeople.sort((a, b) => (\n        (a.fatherName || 'zzz').localeCompare((b.fatherName || 'zzz'))\n      ));\n      break;\n\n    default:\n      break;\n  }\n\n  if (isRev === 'desc') {\n    visiblePeople.reverse();\n  }\n\n  return (\n    <>\n      <h1 className=\"title\">People page</h1>\n      <input\n        value={query}\n        onChange={handleQueryChange}\n        type=\"text\"\n        placeholder=\"Search...\"\n        className=\"input\"\n      />\n      {(id) && (<PersonName people={people} id={id} />)}\n      {(pathname.slice(-3) !== 'new') ? (\n        <Link\n          to=\"/people/new\"\n        >\n          <button\n            type=\"button\"\n            className=\"add-button\"\n          >\n            Add person\n          </button>\n        </Link>\n      ) : (<NewPerson people={people} onAdd={setPeople} />)}\n      {(people.length !== 0) && (\n      <PeopleTable\n        people={visiblePeople}\n        sortParam={sortParam}\n      />\n      )}\n    </>\n  );\n};\n","const API_URL = 'https://mate-academy.github.io/react_people-table/api';\n\nexport const getPeople = () => fetch(`${API_URL}/people.json`)\n  .then(response => response.json())\n  .then(people => people.map(human => ({\n    ...human,\n    mother: people.find(person => person.name === human.motherName),\n    father: people.find(person => person.name === human.fatherName),\n  })));\n","import React from 'react';\n\nexport const NotFoundPage = () => (\n  <h1 className=\"title\">Page not found</h1>\n);\n","import React from 'react';\nimport { Link, NavLink, Redirect, Route, Switch } from 'react-router-dom';\nimport { HomePage } from './components/HomePage';\nimport { PeoplePage } from './components/PeoplePage';\nimport { NotFoundPage } from './components/NotFoundPage';\nimport './App.scss';\n\nimport logo from './images/svg-2.svg';\n\nexport const App = () => (\n  <div className=\"App\">\n    <header className=\"header header--theme_light header--size_l\">\n      <Link to=\"/\">\n        <img src={logo} alt=\"logo\" />\n      </Link>\n      <nav className=\"nav\">\n        <div className=\"nav__list\">\n          <NavLink\n            to=\"/\"\n            exact\n            className=\"nav__item\"\n            activeClassName=\"is-active\"\n          >\n            Home\n          </NavLink>\n          <NavLink\n            to=\"/people\"\n            className=\"nav__item\"\n            activeClassName=\"is-active\"\n          >\n            People\n          </NavLink>\n        </div>\n      </nav>\n    </header>\n    <section>\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path=\"/people/:id?\" exact component={PeoplePage} />\n        <Redirect path=\"/home\" to=\"/\" />\n        <NotFoundPage />\n      </Switch>\n    </section>\n  </div>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}