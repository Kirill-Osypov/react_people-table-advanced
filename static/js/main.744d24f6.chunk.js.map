{"version":3,"sources":["images/sort_both.png","images/sort_asc.png","images/sort_desc.png","images/svg-2.svg","components/HomePage/HomePage.js","components/PeoplePage/NewPerson.js","components/PeopleTable/PersonRow.js","components/PeopleTable/PeopleTable.js","components/PeopleTable/PersonName.js","components/PeoplePage/PeoplePage.js","api/api.js","components/NotFoundPage/NotFoundPage.js","App.jsx","index.jsx"],"names":["module","exports","HomePage","className","NewPerson","people","onAdd","history","useHistory","mens","filter","human","sex","womans","useState","namePerson","setName","setSex","bornPerson","setBorn","diedPerson","setDied","mother","setMother","father","setFather","errorName","setErrorName","errorAge","setErrorAge","handleChange","event","target","name","value","onSubmit","preventDefault","nameLength","length","checkLength","replace","age","newPerson","born","died","motherName","fatherName","current","push","type","onChange","checked","min","max","disabled","map","key","PersonRow","search","useLocation","path","sortParam","URLSearchParams","get","classNames","to","pathname","defaultProps","heads","PeopleTable","newId","id","useRouteMatch","params","slice","searchParams","sortOrder","isRev","setRev","sortBy","set","toString","head","onClick","toUpperCase","src","sortAsc","sortDesc","sortBoth","alt","person","PersonName","find","PeoplePage","appliedQuery","query","setQuery","applyQuery","useCallback","debounce","newQuery","delete","setPeople","useEffect","fetch","then","response","json","visiblePeople","lowerQuery","toLowerCase","includes","sort","a","b","localeCompare","reverse","placeholder","NotFoundPage","App","logo","exact","activeClassName","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.744d24f6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7XQMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS/gDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM+wTENuQahAvEO9DMwiGdwAxOymGJQLxTyD+jgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA/BOIv2PBIPFEUgxjB+IdQPwfC94HxLykus4GiD+hGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL+AuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/svg-2.a9720333.svg\";","import React from 'react';\n\nexport const HomePage = () => (\n  <h1 className=\"title\">Home page</h1>\n);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\n\nexport const NewPerson = ({ people, onAdd }) => {\n  const history = useHistory();\n\n  const mens = people.filter(human => human.sex === 'm');\n  const womans = people.filter(human => human.sex === 'f');\n\n  const [namePerson, setName] = useState('');\n  const [sex, setSex] = useState('m');\n  const [bornPerson, setBorn] = useState('');\n  const [diedPerson, setDied] = useState('');\n  const [mother, setMother] = useState('');\n  const [father, setFather] = useState('');\n\n  const [errorName, setErrorName] = useState('');\n  const [errorAge, setErrorAge] = useState('');\n\n  const handleChange = (event) => {\n    setErrorName('');\n    setErrorAge('');\n\n    const { name, value } = event.target;\n\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n\n      case 'sex':\n        setSex(value);\n        break;\n\n      case 'born':\n        setBorn(value);\n        break;\n\n      case 'died':\n        setDied(value);\n        break;\n\n      case 'mother':\n        setMother(value);\n        break;\n\n      case 'father':\n        setFather(value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const nameLength = namePerson.length;\n    const checkLength = namePerson.replace(/[^a-zа-я ]/gi, '').length;\n    const age = diedPerson - bornPerson;\n\n    if (checkLength !== nameLength || nameLength === 0) {\n      return setErrorName('Invalid characters entered');\n    }\n\n    if (age >= 150 || age < 0) {\n      return setErrorAge('Age should be >= 0 and < 150');\n    }\n\n    const newPerson = {\n      name: namePerson,\n      sex,\n      born: +bornPerson,\n      died: +diedPerson,\n      motherName: mother,\n      fatherName: father,\n    };\n\n    setName('');\n    setBorn('');\n    setSex('m');\n    setDied('');\n    setMother('');\n    setFather('');\n    onAdd(current => [newPerson, ...current]);\n\n    return history.push('/people');\n  };\n\n  return (\n    <form className=\"form\" onSubmit={handleSubmit}>\n      <fieldset>\n        <legend>Please add info:</legend>\n        <div className=\"form__input\">\n          <span>{'Name: '}</span>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={namePerson}\n            onChange={handleChange}\n          />\n          <span className=\"error-message\">{errorName}</span>\n        </div>\n\n        <div className=\"form__input\">\n          <span>{'Sex: '}</span>\n          <input\n            type=\"radio\"\n            value=\"m\"\n            name=\"sex\"\n            checked={sex === 'm'}\n            onChange={handleChange}\n          />\n          Male\n          <input\n            type=\"radio\"\n            value=\"f\"\n            name=\"sex\"\n            checked={sex === 'f'}\n            onChange={handleChange}\n          />\n          Female\n        </div>\n\n        <div className=\"form__input\">\n          <span>{'Born: '}</span>\n          <input\n            type=\"number\"\n            name=\"born\"\n            value={bornPerson}\n            onChange={handleChange}\n            min={1400}\n            max={2021}\n          />\n        </div>\n\n        <div className=\"error-message\">{errorAge}</div>\n\n        <div className=\"form__input\">\n          <span>{'Died: '}</span>\n          <input\n            type=\"number\"\n            name=\"died\"\n            value={diedPerson}\n            onChange={handleChange}\n            min={1400}\n            max={2021}\n            disabled={!bornPerson}\n          />\n        </div>\n\n        <div className=\"form__input\">\n          <span>{'Mother: '}</span>\n          <select\n            name=\"mother\"\n            value={mother}\n            onChange={handleChange}\n            disabled={!bornPerson}\n          >\n            <option value=\"\">Select mother(optional)</option>\n            {womans.map(({ name, died, born }) => (\n              (bornPerson <= died && bornPerson >= born + 15) && (\n                <option key={name} value={name}>{name}</option>\n              )\n            ))}\n          </select>\n        </div>\n\n        <div className=\"form__input\">\n          <span>{'Father: '}</span>\n          <select\n            name=\"father\"\n            value={father}\n            onChange={handleChange}\n            disabled={!bornPerson}\n          >\n            <option value=\"\">Select father(optional)</option>\n            {mens.map(({ name, died, born }) => (\n              (bornPerson <= died && bornPerson >= born + 15) && (\n                <option key={name} value={name}>{name}</option>\n              )\n            ))}\n          </select>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"form-button\"\n        >\n          Add person\n        </button>\n      </fieldset>\n    </form>\n  );\n};\n\nNewPerson.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onAdd: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport classNames from 'classnames';\n\nexport const PersonRow = ({\n  name,\n  sex,\n  born,\n  died,\n  motherName,\n  fatherName,\n}) => {\n  const { search } = useLocation();\n  const path = `/people/${name.replace(/ /g, '-')}-${born}`;\n  const searchParams = new URLSearchParams(search);\n  const sortParam = searchParams.get('sortBy') || '';\n\n  return (\n    <>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'name' })}\n      >\n        <Link\n          to={{\n            pathname: path,\n            search,\n          }}\n          className=\"name-link\"\n        >\n          {name}\n        </Link>\n\n      </td>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'sex' })}\n      >\n        {sex}\n      </td>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'born' })}\n      >\n        {born}\n      </td>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'died' })}\n      >\n        {died}\n      </td>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'mother' })}\n      >\n        {motherName || 'no data'}\n      </td>\n      <td\n        className={classNames({ 'highlight-column': sortParam === 'father' })}\n      >\n        {fatherName || 'no data'}\n      </td>\n    </>\n  );\n};\n\nPersonRow.propTypes = {\n  name: PropTypes.string.isRequired,\n  sex: PropTypes.string.isRequired,\n  born: PropTypes.number.isRequired,\n  died: PropTypes.number.isRequired,\n  motherName: PropTypes.string,\n  fatherName: PropTypes.string,\n};\n\nPersonRow.defaultProps = {\n  motherName: '',\n  fatherName: '',\n};\n","/* eslint-disable no-nested-ternary */\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation, useRouteMatch } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { PersonRow } from './PersonRow';\n\nimport sortBoth from '../../images/sort_both.png';\nimport sortAsc from '../../images/sort_asc.png';\nimport sortDesc from '../../images/sort_desc.png';\n\nimport './PeopleTable.scss';\n\nconst heads = ['name', 'sex', 'born', 'died', 'mother', 'father'];\n\nexport const PeopleTable = ({ people }) => {\n  const match = useRouteMatch();\n  const { id } = match.params;\n  let newId;\n\n  if (id) {\n    newId = id.slice(0, -5).replace(/-/g, ' ');\n  }\n\n  const history = useHistory();\n  const { search } = useLocation();\n  const searchParams = new URLSearchParams(search);\n\n  const sortParam = searchParams.get('sortBy') || '';\n  const sortOrder = searchParams.get('sortOrder') || '';\n\n  const [isRev, setRev] = useState(false);\n\n  const sortBy = (event) => {\n    const { name } = event.target;\n\n    if (name === sortParam) {\n      setRev(current => !current);\n    } else {\n      setRev(false);\n    }\n\n    if (isRev) {\n      searchParams.set('sortOrder', 'asc');\n    } else {\n      searchParams.set('sortOrder', 'desc');\n    }\n\n    searchParams.set('sortBy', name);\n    history.push({ search: searchParams.toString() });\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        <table>\n          <thead>\n            <tr>\n              {heads.map(head => (\n                <th key={`${head}_head`}>\n                  <button\n                    type=\"button\"\n                    className=\"button\"\n                    name={head}\n                    onClick={sortBy}\n                  >\n                    {head[0].toUpperCase() + head.slice(1)}\n                  </button>\n                  <img\n                    src={\n                      (sortOrder === 'asc' && sortParam === head)\n                        ? sortAsc\n                        : (sortOrder === 'desc' && sortParam === head)\n                          ? sortDesc\n                          : sortBoth\n                      }\n                    alt=\"sort-png\"\n                  />\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {people.map(person => (\n              <tr\n                key={person.name}\n                className={classNames({\n                  'highlight-person': person.name === newId,\n                })}\n              >\n                <PersonRow {...person} />\n              </tr>\n            ))}\n          </tbody>\n          <tfoot>\n            <tr>\n              {heads.map(head => (\n                <th key={`${head}_foot`}>\n                  {head[0].toUpperCase() + head.slice(1)}\n                </th>\n              ))}\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n    </>\n  );\n};\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport './PeopleTable.scss';\n\nexport const PersonName = ({ people, id }) => {\n  const newId = id.slice(0, -5).replace(/-/g, ' ');\n\n  const human = people.find(person => (\n    person.name === newId\n  ));\n\n  if (human) {\n    return (\n      <div className=\"person-name\">\n        <div\n          className={classNames({\n            'red-woman': human.sex === 'f',\n            'blue-man': human.sex === 'm',\n          })}\n        >\n          {`Name: ${human.name}`}\n        </div>\n        <div\n          className={classNames({ 'red-woman': human.motherName })}\n        >\n          {`Mother: ${human.motherName || 'no data'}`}\n        </div>\n        <div\n          className={classNames({ 'blue-man': human.fatherName })}\n        >\n          {`Father: ${human.fatherName || 'no data'}`}\n        </div>\n      </div>\n    );\n  }\n\n  return '';\n};\n\nPersonName.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n  id: PropTypes.string.isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { Link, useHistory, useLocation, useRouteMatch } from 'react-router-dom';\nimport debounce from 'lodash/debounce';\nimport { NewPerson } from './NewPerson';\nimport { getPeople } from '../../api/api';\nimport { PeopleTable } from '../PeopleTable';\nimport { PersonName } from '../PeopleTable/PersonName';\n\nimport './PeoplePage.scss';\n\nexport const PeoplePage = () => {\n  const history = useHistory();\n  const match = useRouteMatch();\n  const { id } = match.params;\n  const { search, pathname } = useLocation();\n  const searchParams = new URLSearchParams(search);\n  const sortParam = searchParams.get('sortBy') || '';\n  const isRev = searchParams.get('sortOrder') || '';\n\n  const appliedQuery = searchParams.get('query') || '';\n  const [query, setQuery] = useState(appliedQuery);\n\n  const applyQuery = useCallback(\n    debounce((newQuery) => {\n      if (newQuery) {\n        searchParams.set('query', newQuery);\n      } else {\n        searchParams.delete('query');\n      }\n\n      history.push({ search: searchParams.toString() });\n    }, 500),\n    [],\n  );\n\n  const [people, setPeople] = useState([]);\n\n  useEffect(() => {\n    getPeople()\n      .then(setPeople);\n  }, []);\n\n  const handleQueryChange = (event) => {\n    setQuery(event.target.value);\n    applyQuery(event.target.value);\n  };\n\n  let visiblePeople = [...people];\n\n  if (appliedQuery) {\n    const lowerQuery = appliedQuery.toLowerCase();\n\n    visiblePeople = visiblePeople.filter(({ name, fatherName, motherName }) => {\n      switch (true) {\n        case (name.toLowerCase().includes(lowerQuery)):\n          return true;\n\n        case ((fatherName || '').toLowerCase().includes(lowerQuery)):\n          return true;\n\n        case ((motherName || '').toLowerCase().includes(lowerQuery)):\n          return true;\n\n        default:\n          return false;\n      }\n    });\n  }\n\n  switch (sortParam) {\n    case 'name':\n    case 'sex':\n      visiblePeople.sort((a, b) => (\n        a[sortParam].localeCompare(b[sortParam])\n      ));\n      break;\n\n    case 'born':\n    case 'died':\n      visiblePeople.sort((a, b) => a[sortParam] - b[sortParam]);\n      break;\n\n    case 'mother':\n      visiblePeople.sort((a, b) => (\n        (a.motherName || 'zzz').localeCompare((b.motherName || 'zzz'))\n      ));\n      break;\n\n    case 'father':\n      visiblePeople.sort((a, b) => (\n        (a.fatherName || 'zzz').localeCompare((b.fatherName || 'zzz'))\n      ));\n      break;\n\n    default:\n      break;\n  }\n\n  if (isRev === 'desc') {\n    visiblePeople.reverse();\n  }\n\n  return (\n    <>\n      <h1 className=\"title\">People page</h1>\n      <input\n        value={query}\n        onChange={handleQueryChange}\n        type=\"text\"\n        placeholder=\"Search...\"\n        className=\"input\"\n      />\n      {(id) && (<PersonName people={people} id={id} />)}\n      {(pathname.slice(-3) !== 'new') ? (\n        <Link\n          to=\"/people/new\"\n        >\n          <button\n            type=\"button\"\n            className=\"add-button\"\n          >\n            Add person\n          </button>\n        </Link>\n      ) : (<NewPerson people={people} onAdd={setPeople} />)}\n      {(people.length !== 0) && (\n      <PeopleTable\n        people={visiblePeople}\n        sortParam={sortParam}\n      />\n      )}\n    </>\n  );\n};\n","const API_URL = 'https://mate-academy.github.io/react_people-table/api';\n\nexport const getPeople = () => fetch(`${API_URL}/people.json`)\n  .then(response => response.json())\n  .then(people => people.map(human => ({\n    ...human,\n    mother: people.find(person => person.name === human.motherName),\n    father: people.find(person => person.name === human.fatherName),\n  })));\n","import React from 'react';\n\nexport const NotFoundPage = () => (\n  <h1 className=\"title\">Page not found</h1>\n);\n","import React from 'react';\nimport { Link, NavLink, Redirect, Route, Switch } from 'react-router-dom';\nimport { HomePage } from './components/HomePage';\nimport { PeoplePage } from './components/PeoplePage';\nimport { NotFoundPage } from './components/NotFoundPage';\nimport './App.scss';\n\nimport logo from './images/svg-2.svg';\n\nexport const App = () => (\n  <div className=\"App\">\n    <header className=\"header header--theme_light header--size_l\">\n      <Link to=\"/\">\n        <img src={logo} alt=\"logo\" />\n      </Link>\n      <nav className=\"nav\">\n        <div className=\"nav__list\">\n          <NavLink\n            to=\"/\"\n            exact\n            className=\"nav__item\"\n            activeClassName=\"is-active\"\n          >\n            Home\n          </NavLink>\n          <NavLink\n            to=\"/people\"\n            className=\"nav__item\"\n            activeClassName=\"is-active\"\n          >\n            People\n          </NavLink>\n        </div>\n      </nav>\n    </header>\n    <section>\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path=\"/people/:id?\" exact component={PeoplePage} />\n        <Redirect path=\"/home\" to=\"/\" />\n        <NotFoundPage />\n      </Switch>\n    </section>\n  </div>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}