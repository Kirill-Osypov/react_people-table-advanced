(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{24:function(e,a,t){},28:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7XQMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC"},29:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS/gDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM+wTENuQahAvEO9DMwiGdwAxOymGJQLxTyD+jgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg=="},30:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA/BOIv2PBIPFEUgxjB+IdQPwfC94HxLykus4GiD+hGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL+AuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII="},31:function(e,a,t){e.exports=t.p+"static/media/svg-2.a9720333.svg"},32:function(e,a,t){e.exports=t(53)},51:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(25),l=t.n(c),m=t(7),o=t(1),s=function(){return r.a.createElement("h1",{className:"title"},"Home page")},u=t(13),i=t(3),h=t(26),p=t.n(h),d=function(e){var a=e.people,t=e.onAdd,c=Object(o.g)(),l=a.filter((function(e){return"m"===e.sex})),m=a.filter((function(e){return"f"===e.sex})),s=Object(n.useState)(""),h=Object(i.a)(s,2),p=h[0],d=h[1],E=Object(n.useState)("m"),f=Object(i.a)(E,2),A=f[0],b=f[1],g=Object(n.useState)(""),N=Object(i.a)(g,2),v=N[0],O=N[1],j=Object(n.useState)(""),x=Object(i.a)(j,2),C=x[0],y=x[1],S=Object(n.useState)(""),w=Object(i.a)(S,2),k=w[0],B=w[1],P=Object(n.useState)(""),Q=Object(i.a)(P,2),_=Q[0],z=Q[1],G=Object(n.useState)(""),M=Object(i.a)(G,2),U=M[0],D=M[1],L=Object(n.useState)(""),R=Object(i.a)(L,2),F=R[0],I=R[1],J=function(e){D(""),I("");var a=e.target,t=a.name,n=a.value;switch(t){case"name":d(n);break;case"sex":b(n);break;case"born":O(n);break;case"died":y(n);break;case"mother":B(n);break;case"father":z(n)}};return r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var a=p.length,n=p.replace(/[^a-z\u0430-\u044f ]/gi,"").length,r=C-v;if(n!==a||0===a)return D("Invalid characters entered");if(r>=150||r<0)return I("Age should be >= 0 and < 150");var l={name:p,sex:A,born:+v,died:+C,motherName:k,fatherName:_};return d(""),O(""),b("m"),y(""),B(""),z(""),t((function(e){return[l].concat(Object(u.a)(e))})),c.push("/people")}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Please add info:"),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Name: "),r.a.createElement("input",{type:"text",name:"name",value:p,onChange:J}),r.a.createElement("span",{className:"error-message"},U)),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Sex: "),r.a.createElement("input",{type:"radio",value:"m",name:"sex",checked:"m"===A,onChange:J}),"Male",r.a.createElement("input",{type:"radio",value:"f",name:"sex",checked:"f"===A,onChange:J}),"Female"),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Born: "),r.a.createElement("input",{type:"number",name:"born",value:v,onChange:J,min:1400,max:2021})),r.a.createElement("div",{className:"error-message"},F),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Died: "),r.a.createElement("input",{type:"number",name:"died",value:C,onChange:J,min:1400,max:2021,disabled:!v})),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Mother: "),r.a.createElement("select",{name:"mother",value:k,onChange:J,disabled:!v},r.a.createElement("option",{value:""},"Select mother(optional)"),m.map((function(e){var a=e.name,t=e.died,n=e.born;return v<=t&&v>=n+15&&r.a.createElement("option",{key:a,value:a},a)})))),r.a.createElement("div",{className:"form__input"},r.a.createElement("span",null,"Father: "),r.a.createElement("select",{name:"father",value:_,onChange:J,disabled:!v},r.a.createElement("option",{value:""},"Select father(optional)"),l.map((function(e){var a=e.name,t=e.died,n=e.born;return v<=t&&v>=n+15&&r.a.createElement("option",{key:a,value:a},a)})))),r.a.createElement("button",{type:"submit",className:"form-button"},"Add person")))},E=t(17),f=t(5),A=t.n(f),b=function(e){var a=e.name,t=e.sex,n=e.born,c=e.died,l=e.motherName,s=e.fatherName,u=Object(o.h)().search,i="/people/".concat(a.replace(/ /g,"-"),"-").concat(n),h=new URLSearchParams(u).get("sortBy")||"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:A()({"highlight-column":"name"===h})},r.a.createElement(m.b,{to:{pathname:i,search:u},className:"name-link"},a)),r.a.createElement("td",{className:A()({"highlight-column":"sex"===h})},t),r.a.createElement("td",{className:A()({"highlight-column":"born"===h})},n),r.a.createElement("td",{className:A()({"highlight-column":"died"===h})},c),r.a.createElement("td",{className:A()({"highlight-column":"mother"===h})},l||"no data"),r.a.createElement("td",{className:A()({"highlight-column":"father"===h})},s||"no data"))};b.defaultProps={motherName:"",fatherName:""};var g=t(28),N=t.n(g),v=t(29),O=t.n(v),j=t(30),x=t.n(j),C=(t(24),["name","sex","born","died","mother","father"]),y=function(e){var a,t=e.people,c=Object(o.i)().params.id;c&&(a=c.slice(0,-5).replace(/-/g," "));var l=Object(o.g)(),m=Object(o.h)().search,s=new URLSearchParams(m),u=s.get("sortBy")||"",h=s.get("sortOrder")||"",p=Object(n.useState)(!1),d=Object(i.a)(p,2),E=d[0],f=d[1],g=function(e){var a=e.target.name;f(a===u&&function(e){return!e}),E?s.set("sortOrder","asc"):s.set("sortOrder","desc"),s.set("sortBy",a),l.push({search:s.toString()})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,C.map((function(e){return r.a.createElement("th",{key:"".concat(e,"_head")},r.a.createElement("button",{type:"button",className:"button",name:e,onClick:g},e[0].toUpperCase()+e.slice(1)),r.a.createElement("img",{src:"asc"===h&&u===e?O.a:"desc"===h&&u===e?x.a:N.a,alt:"sort-png"}))})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.name,className:A()({"highlight-person":e.name===a})},r.a.createElement(b,e))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,C.map((function(e){return r.a.createElement("th",{key:"".concat(e,"_foot")},e[0].toUpperCase()+e.slice(1))})))))))},S=function(e){var a=e.people,t=e.id.slice(0,-5).replace(/-/g," "),n=a.find((function(e){return e.name===t}));return n?r.a.createElement("div",{className:"person-name"},r.a.createElement("div",{className:A()({"red-woman":"f"===n.sex,"blue-man":"m"===n.sex})},"Name: ".concat(n.name)),r.a.createElement("div",{className:A()({"red-woman":n.motherName})},"Mother: ".concat(n.motherName||"no data")),r.a.createElement("div",{className:A()({"blue-man":n.fatherName})},"Father: ".concat(n.fatherName||"no data"))):""},w=(t(51),function(){var e=Object(o.g)(),a=Object(o.i)().params.id,t=Object(o.h)(),c=t.search,l=t.pathname,s=new URLSearchParams(c),h=s.get("sortBy")||"",f=s.get("sortOrder")||"",A=s.get("query")||"",b=Object(n.useState)(A),g=Object(i.a)(b,2),N=g[0],v=g[1],O=Object(n.useCallback)(p()((function(a){a?s.set("query",a):s.delete("query"),e.push({search:s.toString()})}),500),[]),j=Object(n.useState)([]),x=Object(i.a)(j,2),C=x[0],w=x[1];Object(n.useEffect)((function(){fetch("".concat("https://mate-academy.github.io/react_people-table/api","/people.json")).then((function(e){return e.json()})).then((function(e){return e.map((function(a){return Object(E.a)(Object(E.a)({},a),{},{mother:e.find((function(e){return e.name===a.motherName})),father:e.find((function(e){return e.name===a.fatherName}))})}))})).then(w)}),[]);var k=Object(u.a)(C);if(A){var B=A.toLowerCase();k=k.filter((function(e){var a=e.name,t=e.fatherName,n=e.motherName;switch(!0){case a.toLowerCase().includes(B):case(t||"").toLowerCase().includes(B):case(n||"").toLowerCase().includes(B):return!0;default:return!1}}))}switch(h){case"name":case"sex":k.sort((function(e,a){return e[h].localeCompare(a[h])}));break;case"born":case"died":k.sort((function(e,a){return e[h]-a[h]}));break;case"mother":k.sort((function(e,a){return(e.motherName||"zzz").localeCompare(a.motherName||"zzz")}));break;case"father":k.sort((function(e,a){return(e.fatherName||"zzz").localeCompare(a.fatherName||"zzz")}))}return"desc"===f&&k.reverse(),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"People page"),r.a.createElement("input",{value:N,onChange:function(e){v(e.target.value),O(e.target.value)},type:"text",placeholder:"Search...",className:"input"}),a&&r.a.createElement(S,{people:C,id:a}),"new"!==l.slice(-3)?r.a.createElement(m.b,{to:"/people/new"},r.a.createElement("button",{type:"button",className:"add-button"},"Add person")):r.a.createElement(d,{people:C,onAdd:w}),0!==C.length&&r.a.createElement(y,{people:k,sortParam:h}))}),k=function(){return r.a.createElement("h1",{className:"title"},"Page not found")},B=(t(52),t(31)),P=t.n(B),Q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header header--theme_light header--size_l"},r.a.createElement(m.b,{to:"/"},r.a.createElement("img",{src:P.a,alt:"logo"})),r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"nav__list"},r.a.createElement(m.c,{to:"/",exact:!0,className:"nav__item",activeClassName:"is-active"},"Home"),r.a.createElement(m.c,{to:"/people",className:"nav__item",activeClassName:"is-active"},"People")))),r.a.createElement("section",null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:s}),r.a.createElement(o.b,{path:"/people/:id?",exact:!0,component:w}),r.a.createElement(o.a,{path:"/home",to:"/"}),r.a.createElement(k,null))))};l.a.render(r.a.createElement(m.a,null,r.a.createElement(Q,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.744d24f6.chunk.js.map